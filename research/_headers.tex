\usepackage{graphicx}
% \usepackage{background}      % For background images
\usepackage[normalem]{ulem}  % For underlining
\usepackage{appendix}        % For appendix support
\usepackage{chngcntr}        % For resetting counters
\usepackage{pdfpages} 
\usepackage{booktabs}
\usepackage[flushleft]{threeparttable}

\usepackage{caption}
\DeclareCaptionListFormat{lot}{#1} % Force LOT to use first bracket
\captionsetup[table]{
  listformat=lot,
  labelsep=period
}
\captionsetup[table]{singlelinecheck=false}
\captionsetup[table]{list=yes}      % tables go into .lot
\captionsetup[figure]{list=yes}     % figures go into .lof (optional)

% Background image setup
% \backgroundsetup{
%   scale=1,
%   color=black,
%   opacity=1,
%   angle=0,
%   position=current page.center,
%   vshift=0cm,
%   hshift=0cm,
%   contents={\includegraphics[width=0.2\paperwidth]{images/watermark.png}}
% }

% add to cover -> \NoBgThispage 

% Set numbering depth to include \paragraph
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

% Customize \section (Chapter-Level Headings)
\RedeclareSectionCommand[
  beforeskip=1em plus 0.5em minus 0.2em,
  afterskip=1em,
  indent=0pt,
  font=\normalfont\bfseries\centering\MakeUppercase
]{section}

% Customize \subsection (First-Level Subheadings)
\RedeclareSectionCommand[
  beforeskip=1em plus 0.5em minus 0.2em,
  afterskip=1em,
  indent=0pt,
  font=\normalfont\bfseries\centering
]{subsection}

% Customize \subsubsection (Second-Level Subheadings)
\RedeclareSectionCommand[
  beforeskip=1em plus 0.5em minus 0.2em,
  afterskip=1em,
  indent=0pt,
  font=\normalfont\bfseries
]{subsubsection}

% Customize \paragraph (Third-Level Subheadings)
\RedeclareSectionCommand[
  beforeskip=1em plus 0.5em minus 0.2em,
  afterskip=1em,
  indent=0pt,
  afterindent=false, % Do not indent the first paragraph
  font=\normalfont\underline,
  level=4,
  style=section
]{paragraph}

% Adjust numbering in the appendix
\newcommand{\appendixnumbering}{
  \renewcommand{\thesection}{\Alph{section}}
  \renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
  \renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
  \renewcommand{\theparagraph}{\thesubsubsection.\arabic{paragraph}}
  \setcounter{section}{0}
  \setcounter{subsection}{0}
  \setcounter{subsubsection}{0}
  \setcounter{paragraph}{0}
}

% keep the real command
\let\SavedLoT\listoftables
% replace the auto page with an empty stub
\renewcommand{\listoftables}{}
